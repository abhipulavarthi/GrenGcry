import{h as y,r as o,u as f,j as s,L as p,g as x,c as d,B as h}from"./index-BLFxWsoH.js";import{P as b}from"./ProductCard-SdD7wiL6.js";const j={vegetables:{title:"Vegetables",category:"Vegetables"},fruits:{title:"Fruits",category:"Fruits"},"snacks-branded-foods":{title:"Snacks & Branded Foods",category:"Snacks & Branded Foods"},"herbs-seasonings":{title:"Herbs & Seasonings",category:"Foodgrains, Oil & Masala"},seasonal:{title:"Seasonal Fruits & Vegetables",categories:["Fruits","Vegetables"]},icecreams:{title:"Ice Creams",category:"Bakery, Cakes & Dairy",nameIncludes:"Ice Cream"}};function F(){const{slug:c}=y(),e=o.useMemo(()=>j[c]||{title:"Products",category:""},[c]),[l,i]=o.useState([]),[g,n]=o.useState(!1),u=f(),m=async()=>{n(!0);try{if(e.categories&&Array.isArray(e.categories)){const a=((await d.get("/products")).data||[]).filter(r=>e.categories.includes(r.category));i(a)}else if(e.nameIncludes){const a=((await d.get("/products")).data||[]).filter(r=>(!e.category||r.category===e.category)&&(r.name||"").toLowerCase().includes(e.nameIncludes.toLowerCase()));i(a)}else{const t=await d.get("/products",{params:{category:e.category}});i(t.data||[])}}catch{h.error("Failed to load products")}finally{n(!1)}};return o.useEffect(()=>{m()},[c]),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h1",{className:"text-2xl font-semibold",children:e.title}),s.jsx(p,{to:"/products",className:"px-3 py-2 border rounded",children:"All Products"})]}),g?s.jsx("div",{children:"Loading..."}):s.jsxs("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[l.map(t=>s.jsx(b,{product:t,onAdd:a=>u(x(a))},t.id)),l.length===0&&s.jsx("div",{className:"col-span-full text-sm text-gray-600",children:"No items found in this category."})]})]})}export{F as default};
